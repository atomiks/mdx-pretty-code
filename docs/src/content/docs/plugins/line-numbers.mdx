---
title: Line Numbers
description: A shiki transformer that adds line numbers to code blocks
---
import { Aside, Badge } from '@astrojs/starlight/components';
import PackageManager from '#components/package-manager.astro';

<Aside type="note" title="note">
  This plugin is experimental and may change in the future.
  
  [Report any issues you encounter](https://github.com/rehype-pretty/rehype-pretty-code/issues/new)
  and feel free to [suggest improvements / new features](https://github.com/rehype-pretty/rehype-pretty-code/discussions/new?category=ideas).
</Aside>

## Installation

<PackageManager
  dev={false}
  packageId='@rehype-pretty/transformers'
  packageManagers={['pnpm', 'bun', 'npm', 'yarn', 'jsr']}
/>

## Usage

You can use this as a [`shiki` transformer](https://shiki.style/guide/transformers) in `rehype-pretty-code` by passing it to the `transformers` array.

### Options

- `autoApply`: `boolean` (default: `true`)

### Examples

###### with `rehype-pretty-code`

```ts
import { unified } from 'unified'
import remarkParse from 'remark-parse'
import remarkRehype from 'remark-rehype'
import rehypeStringify from 'rehype-stringify'
import { rehypePrettyCode } from 'rehype-pretty-code'
import { transformerLineNumbers } from '@rehype-pretty/transformers'

const file = await unified()
  .use(remarkParse)
  .use(remarkRehype)
  .use(rehypePrettyCode, {
    transformers: [
      transformerLineNumbers({ autoApply: true }),
    ],
  })
  .use(rehypeStringify)
  .process(`\`\`\`js\nconsole.log('Hello, World!')\n\`\`\``)

console.log(String(file))
```

#### with `shiki`

```ts
import { codeToHtml } from 'shiki'

const code = await codeToHtml('console.log("Hello World")', {
  lang: 'ts',
  theme: 'vitesse-light',
  transformers: [
    transformerLineNumbers({ autoApply: true }),
  ]
})
```
