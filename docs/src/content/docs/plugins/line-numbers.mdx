---
title: Line Numbers
description: A shiki transformer that adds line numbers to code blocks
sidebar:
  badge:
    text: experimental
    variant: caution
---
import { Aside } from '@astrojs/starlight/components';
import { Tabs, TabItem } from '@astrojs/starlight/components';

## Installation

<Tabs syncKey="pkg">
  <TabItem label="pnpm" icon="pnpm">
  ```sh
  pnpm add @rehype-pretty/transformers
  ```
  </TabItem>
  <TabItem label="npm" icon="seti:npm">
  ```sh
  npm install @rehype-pretty/transformers
  ```
  </TabItem>
  <TabItem label="bun" icon="bun">
  ```sh
  bun add @rehype-pretty/transformers
  ```
  </TabItem>
  <TabItem label="jsr" icon="seti:shell">
  ```sh
  npx jsr add @rehype-pretty/transformers
  ```
  </TabItem>
  <TabItem label="yarn" icon="seti:yarn">
  ```sh
  yarn add @rehype-pretty/transformers
  ```
  </TabItem>
</Tabs>

## Usage

You can use this as a [`shiki` transformer](https://shiki.style/guide/transformers) in `rehype-pretty-code` by passing it to the `transformers` array.

### Options

- `autoApply`: `boolean` (default: `true`)

### Examples

#### with `rehype-pretty-code`

  ```ts
  import { unified } from 'unified'
  import remarkParse from 'remark-parse'
  import remarkRehype from 'remark-rehype'
  import rehypeStringify from 'rehype-stringify'
  import { rehypePrettyCode } from 'rehype-pretty-code'
  import { transformerLineNumbers } from '@rehype-pretty/transformers'

  const file = await unified()
    .use(remarkParse)
    .use(remarkRehype)
    .use(rehypePrettyCode, {
      transformers: [
        transformerLineNumbers({ autoApply: true }),
      ],
    })
    .use(rehypeStringify)
    .process(`\`\`\`js\nconsole.log('Hello, World!')\n\`\`\``)

  console.log(String(file))
  ```

#### with `shiki`

  ```ts
  import { codeToHtml } from 'shiki'

  const code = await codeToHtml('console.log("Hello World")', {
    lang: 'ts',
    theme: 'vitesse-light',
    transformers: [
      transformerLineNumbers({ autoApply: true }),
    ]
  })
  ```

<Aside type="note" title="note">
  This plugin is experimental and may change in the future.
  
  Please report any issues you encounter and feel free to suggest improvements / new features.
</Aside>
